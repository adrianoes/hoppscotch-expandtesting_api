# hoppscotch-expandtesting_api

API testing in [expandtesting](https://practice.expandtesting.com/notes/api/api-docs/). This project contains basic examples on how to use Hoppscotch to test API. All the necessary support documentation to develop this project is placed here.

# Pre-requirements:

| Requirement                     | Version        | Note            |
| :------------------------------ |:---------------| :-------------- |
| Node.js                         | 18.18.0        | -               |
| node-gyp                        | 12.1.0         | -               |
| Hoppscotch CLI                  | 0.30.0         | -               |
| Hoppscotch                      | 25.12.0        | -               |
| xml2js                          | 0.6.2          | -               |
| axios                           | 1.6.5          | -               |
| dotenv                          | 16.3.1         | -               |
             
# Installation:

- See [Node.js page](https://nodejs.org/en) and install the aforementioned Node.js version. Keep all the preferenced options as they are.
- See [Hoppscotch page](https://hoppscotch.com/download), download it and install it keeping all the preferenced options as they are.
- Open the project folder in terminal and execute ```npm install -g node-gyp``` to install node-gyp.
- Open the project folder in terminal and execute ```npm i -g @hoppscotch/cli``` to install Hoppscotch CLI.
- Open the project folder in terminal and execute ```npm install``` to install project dependencies (xml2js, axios, dotenv).
- Open the project folder in terminal and execute ```npm install xml2js``` to install xml2js for XML parsing.
- Open the project folder in terminal and execute ```npm install axios``` to install axios for HTTP requests.
- Open the project folder in terminal and execute ```npm install dotenv``` to install dotenv for environment variable management.

# Tests:

- Execute ```npm test``` to run all tests, generate XML/HTML reports, and automatically create JIRA issues if tests fail.
- Execute ```hopp test -e expandtesting_env.json -d 1000 expandtesting.json --reporter-junit ./reports/report.xml``` to execute expandtesting.json collection configured with expandtesting_env.json environment variable file and export a report.xml file to reports folder.
- Execute ```npm run convert-report``` to convert an existing XML report to HTML format.
- Execute ```npm run jira-report``` to manually create a JIRA issue from the last test results (if failures exist).

# Support:

- [expandtesting API documentation page](https://practice.expandtesting.com/notes/api/api-docs/)
- [expandtesting API demonstration page](https://www.youtube.com/watch?v=bQYvS6EEBZc)
- [Pre-request scripts](https://docs.hoppscotch.io/documentation/getting-started/rest/pre-request-scripts#generating-random-values-to-test-api)
- [JavaScript Random](https://www.w3schools.com/js/js_random.asp)
- [How to generate random words in JavaScript? [duplicate]](https://stackoverflow.com/a/13237436/10519428)
- [JavaScript Boolean toString()](https://www.w3schools.com/jsref/jsref_tostring_boolean.asp)
- [Hoppscotch CLI](https://docs.hoppscotch.io/documentation/clients/cli/overview#windows-and-macos)
- [node-gyp page](https://github.com/nodejs/node-gyp)
- [xml2js](https://www.npmjs.com/package/xml2js)
- [axios](https://axios-http.com/docs/intro)
- [dotenv](https://www.npmjs.com/package/dotenv)

# Tips:

- UI and API tests to send password reset link to user's email and API tests to verify a password reset token and reset a user's password must be tested manually as they rely on e-mail verification.
- This project automatically creates JIRA bug issues when test failures are detected. If all tests pass, no JIRA issue is created. If any test fails, a detailed JIRA issue is automatically created.
- xml2js is used to parse XML report files generated by Hoppscotch CLI and convert them to JavaScript objects for HTML report generation and JIRA integration.
- axios is a HTTP client library used to make REST API calls to JIRA for creating issues automatically when test failures are detected.
- dotenv loads environment variables from .env file to manage JIRA credentials securely without exposing them in the source code.
